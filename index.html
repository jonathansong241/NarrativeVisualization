<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Narrative Visualization Project, by Jonathan Song</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/fullPage.js/3.1.2/fullpage.min.css" integrity="sha512-4rPgyv5iG0PZw8E+oRdfN/Gq+yilzt9rQ8Yci2jJ15rAyBmF0HBE4wFjBkoB72cxBeg63uobaj1UcNt/scV93w==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    <link rel="stylesheet" href="style.css">
	<!-- Bootstrap -->
	<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css" integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous">
	<!-- jQueryUI styling -->
	<link rel="stylesheet" href="https://code.jquery.com/ui/1.12.1/themes/base/jquery-ui.css">
</head>
<body>
    <div id="fullpage">
        <div class="section s0">
            <div id="title_text">
                <h1>The Covid Pandemic from Years 2020 to 2023 </h1>
                <h3>The d3.js data visualization project<br />Jonathan Song</h3>
                <p>This visualization is an interactive slideshow which takes the user through the Covid-19 pandemic.<br>
                    The dataset itself contains the confirmed cases, confirmed deaths and vaccinations from 2023 to today, across the globe.</p>
            </div>       
        </div>

        <div class="section s1">
            <div class="container">
                <div class="row">
                    <div class = "overview-text">
                        <h1>Overview of the dataset</h1>
                    </div>
                    <div class="col-md-6">
                        <button id="play-button" class="btn btn-primary">Play</button>
                        <button id="reset-button" class="btn btn-primary">Reset</button>
                        <div id="slider">
                            <label>Year: <span id="year">2020</span></label>
                            <div id="date-slider"></div>
                        </div>
                    </div>
                    <div class="col-md-6">
                        <select id="continent-select" class="form-control">
                            <option selected value="all">All</option>
                            <option value="asia">Asia</option>
                            <option value="asia">Asia</option>
                            <option value="americas">Americas</option>
                            <option value="africa">Africa</option>
                        </select>
                    </div>
                </div>
                <div class="row">
                    <div class="col-md-12">
                        <div id="overview-chart-area"></div>                 
                    </div> 
                </div>
                <div id="my_dataviz"></div>
<script>

  // set the dimensions and margins of the graph
var margin = {top: 10, right: 30, bottom: 40, left: 50},
    width = 720 - margin.left - margin.right,
    height = 720 - margin.top - margin.bottom;

// append the svg object to the body of the page
var svg = d3.select("#my_dataviz")
  .append("svg")
    .attr("width", width + margin.left + margin.right)
    .attr("height", height + margin.top + margin.bottom)
  .append("g")
    .attr("transform",
          "translate(" + margin.left + "," + margin.top + ")")

// Add the grey background that makes ggplot2 famous
svg
  .append("rect")
    .attr("x",0)
    .attr("y",0)
    .attr("height", height)
    .attr("width", height)
    .style("fill", "EBEBEB")

//Read the data
d3.csv("https://raw.githubusercontent.com/jonathansong241/NarrativeVisualization/main/cars2017.csv", function(data) {

  // Add X axis
  var x = d3.scaleLinear()
    .domain([0, 12])
    .range([ 0, width ])
  svg.append("g")
    .attr("transform", "translate(0," + height + ")")
    .call(d3.axisBottom(x).tickSize(-height*1.3).ticks(10))
    .select(".domain").remove()

  // Add Y axis
  var y = d3.scaleLinear()
    .domain([0, 122])
    .range([ height, 0])
    .nice()
  svg.append("g")
    .call(d3.axisLeft(y).tickSize(-width*1.3).ticks(7))
    .select(".domain").remove()

  // Customization
  svg.selectAll(".tick line").attr("stroke", "white")

  // Add X axis label:
  svg.append("text")
      .attr("text-anchor", "end")
      .attr("x", width/2 + margin.left)
      .attr("y", height + margin.top + 20)
      .text("Engine Cylinders");

  // Y axis label:
  svg.append("text")
      .attr("text-anchor", "end")
      .attr("transform", "rotate(-90)")
      .attr("y", -margin.left + 20)
      .attr("x", -margin.top - height/2 + 20)
      .text("Average Highway MPG")

  // Color scale: give me a specie name, I return a color
  var color = d3.scaleOrdinal()
    .domain(["BMW", "Ford", "Chevrolet" ])
    .range([ "#F8766D", "#00BA38", "#619CFF"])

  // Add dots
  svg.append('g')
    .selectAll("dot")
    .data(data)
    .enter()
    .append("circle")
      .attr("cx", function (d) { return x(d.EngineCylinders); } )
      .attr("cy", function (d) { return y(d.AverageHighwayMPG); } )
      .attr("r", 5)
      .style("fill", function (d) { return color(d.Make) } )

})

</script>
            </div>
        </div>

        
        
            <div class="line-text">
                <h4>Scene 3</h4>
                
            </div>
        </div>

        <div class="section s4">
            <div id="reference">
                <h1>References and Resources</h1>
                <h2>Jonathan Song Narriative Project Summer 2023</h2>
                <p>https://ourworldindata.org/explorers/coronavirus-data-explorer?tab=table&zoomToSelection=true&facet=none&country=USA~GBR~CAN~DEU~ITA~IND&pickerSort=asc&pickerMetric=location&Metric=People+fully+vaccinated&Interval=7-day+rolling+average&Relative+to+Population=true&Color+by+test+positivity=false
                </p>
            </div>
        </div>

    </div>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/fullPage.js/3.1.2/fullpage.min.js" integrity="sha512-gSf3NCgs6wWEdztl1e6vUqtRP884ONnCNzCpomdoQ0xXsk06lrxJsR7jX5yM/qAGkPGsps+4bLV5IEjhOZX+gg==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <script>
        new fullpage('#fullpage', {
            autoScrolling: true,
            navigation: true,
            anchors: ['section0','section1', 'section2', 'section3','section4'],
            navigationTooltips:['Intro', 'Scene1', 'Scene2', 'Scene3', 'Ref'],
            showActiveTooltip: true,
            scrollingSpeed: 1000,
        
        })
    </script>
	<!-- External JS libraries -->
	<script src="https://d3js.org/d3.v5.min.js"></script>
	<script src="https://code.jquery.com/jquery-3.5.1.min.js" integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin="anonymous"></script>
	<script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script>
	<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js" integrity="sha384-wfSDF2E50Y2D1uUdj0O3uMBJnjuUD4Ih7YwaYd1iqfktj0Uod8GCExl3Og8ifwB6" crossorigin="anonymous"></script>
	<script src="https://code.jquery.com/ui/1.12.1/jquery-ui.min.js" integrity="sha256-VazP97ZCwtekAsvgPBSUwPFKdrwD3unUfSGVYrahUqU="crossorigin="anonymous"></script>
	<script src="js/d3-tip.js"></script>
	<!-- Custom JS -->
	<script src="js/overview.js"></script>
    <script src="js/Bar.js"></script>
	<script src="js/barChart.js"></script>
	<script src="js/linechart.js"></script>
    <script src="js/annotations.js"></script>


</body>
</html>
